import{v as L}from"./@vue.runtime-dom-DkKQpP1Z.js";import"./index-BzwtatPw.js";import"./store-BGvsPsWR.js";import{u as O}from"./index-OBXFyj3D.js";import{_ as $}from"./space-inner.vue_vue_type_style_index_0_lang-gv2-f-p8.js";import{v as D}from"./lodash-es-I-EvhVFk.js";import{d as k,t as F,e as T,q as U,Y as v,o as x,c as y,G as j,i as a,K as s,O as _,H as q,n as A,F as E,L as G,a as H,N as I}from"./@vue.runtime-core-B2X3lOUZ.js";import{r as g,u as K}from"./@vue.reactivity-V6IlnEmz.js";import{O as V}from"./@vue.shared-D-bMerGS.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./element-plus-DaJS5H-O.js";import"./@element-plus.icons-vue-BCFYf-67.js";import"./@popperjs.core-D9SI2xQl.js";import"./@ctrl.tinycolor-r5W6hzzQ.js";import"./dayjs-DOBku9Nj.js";import"./chardet-C_72lc3Z.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui.dom-B8Qxuwjg.js";import"./@floating-ui.core-DTrSsA1T.js";import"./@floating-ui.utils-Bh-IyuRp.js";import"./@vueuse.core-Bp0bPelK.js";import"./@vueuse.shared-CZpoHp70.js";import"./mitt-C1z4c41a.js";import"./axios-CvWkLj0m.js";import"./nprogress-B7fG2QpQ.js";import"./pinia-ByvooDwk.js";import"./vue-demi-Dq6ymT-8.js";import"./monaco-editor-CuOEaJz6.js";import"./vue-echarts-BbwyaQnR.js";import"./resize-detector-CZu9PX2v.js";import"./echarts-Bv2MlBtc.js";import"./tslib-BDyQ-Jie.js";import"./zrender-BSc91FC-.js";import"./vue-router-4IlAtr41.js";import"./mockjs-Bfc9hT_P.js";import"./vue-xN6KRtQP.js";import"./group-BfmV4XTx.js";import"./index-B9NYsrmA.js";const P={class:"cl-upload-space__wrap"},R={class:"cl-upload-space__wrap-list"},Y=k({name:"cl-upload-space"}),z=k({...Y,props:{modelValue:[String,Array],title:{type:String,default:"文件空间"},text:{type:String,default:"点击上传"},multiple:{type:Boolean,default:!0},limit:{type:Number,default:9},accept:String,showBtn:{type:Boolean,default:!0},showList:{type:Boolean,default:!0}},emits:["update:modelValue","change","confirm"],setup(i,{expose:C,emit:B}){const m=i,u=B,{refs:h,setRefs:S}=O(),n=g(!1),r=g({title:"",limit:9}),o=g([]),c=F(()=>{var e;return((e=h.inner)==null?void 0:e.selection)||[]});function b(e){n.value=!0,r.value=Object.assign({...m},e),m.multiple||(r.value.limit=1),A(()=>{var t;(t=h.inner)==null||t.clear()})}function d(){n.value=!1}function w(e){const t=e||c.value;o.value=t.map(f=>f.url);const l=m.multiple?o.value:o.value[0];u("update:modelValue",l),u("change",l),u("confirm",t),d()}return T(()=>{U(()=>m.modelValue,e=>{e&&(o.value=D(e)?[e]:e)},{immediate:!0})}),C({open:b,close:d}),(e,t)=>{const l=v("el-button"),f=v("cl-upload"),N=v("cl-dialog");return x(),y("div",P,[j(e.$slots,"default",{},()=>[i.showBtn?(x(),y(E,{key:0},[a(l,{onClick:b},{default:s(()=>[_(V(i.text),1)]),_:1}),G(H("div",R,[a(f,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=p=>o.value=p),disabled:"",deletable:"",draggable:"",multiple:i.multiple},null,8,["modelValue","multiple"])],512),[[L,o.value.length>0&&i.showList]])],64)):I("",!0)],!0),a(N,{modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=p=>n.value=p),title:r.value.title,height:"650px",width:"1070px",padding:"0","keep-alive":"",scrollbar:!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{footer:s(()=>[a(l,{onClick:d},{default:s(()=>[_("取消")]),_:1}),a(l,{disabled:c.value.length==0,type:"success",onClick:t[1]||(t[1]=p=>w())},{default:s(()=>[_(" 选择 "+V(c.value.length)+"/"+V(r.value.limit),1)]),_:1},8,["disabled"])]),default:s(()=>[a($,q({ref:K(S)("inner")},r.value,{onConfirm:w}),null,16)]),_:1},8,["modelValue","title"])])}}}),Ue=M(z,[["__scopeId","data-v-7a51bf2c"]]);export{Ue as default};
