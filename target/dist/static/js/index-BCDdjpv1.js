import{i as y,p as h}from"./index-BzwtatPw.js";import{D as b}from"./@vue.reactivity-V6IlnEmz.js";import{v as g,y as S}from"./lodash-es-I-EvhVFk.js";import{d as V,aE as K,t as C,i as n,Y as u}from"./@vue.runtime-core-B2X3lOUZ.js";import"./@vue.runtime-dom-DkKQpP1Z.js";import"./@vue.shared-D-bMerGS.js";import"./element-plus-DaJS5H-O.js";import"./@element-plus.icons-vue-BCFYf-67.js";import"./@popperjs.core-D9SI2xQl.js";import"./@ctrl.tinycolor-r5W6hzzQ.js";import"./dayjs-DOBku9Nj.js";import"./chardet-C_72lc3Z.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui.dom-B8Qxuwjg.js";import"./@floating-ui.core-DTrSsA1T.js";import"./@floating-ui.utils-Bh-IyuRp.js";import"./@vueuse.core-Bp0bPelK.js";import"./@vueuse.shared-CZpoHp70.js";import"./store-BGvsPsWR.js";import"./mitt-C1z4c41a.js";import"./axios-CvWkLj0m.js";import"./nprogress-B7fG2QpQ.js";import"./pinia-ByvooDwk.js";import"./vue-demi-Dq6ymT-8.js";import"./monaco-editor-CuOEaJz6.js";import"./vue-echarts-BbwyaQnR.js";import"./resize-detector-CZu9PX2v.js";import"./echarts-Bv2MlBtc.js";import"./tslib-BDyQ-Jie.js";import"./zrender-BSc91FC-.js";import"./vue-router-4IlAtr41.js";import"./mockjs-Bfc9hT_P.js";import"./vue-xN6KRtQP.js";const re=V({name:"cl-select",props:{modelValue:[String,Number,Array],options:{type:[Array,Object],default:()=>[]},prop:String,scope:null,labelKey:{type:String,default:"label"},valueKey:{type:String,default:"value"},width:[String,Number],tree:Boolean,allLevelsId:Boolean,checkStrictly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:c}){const f=y.useCrud(),i=K(e,"modelValue"),m=C(()=>b(e.options)||[]);function v(o){if(e.allLevelsId){let r=function(d,a){d.forEach(t=>{const s=t[e.valueKey]==o;(a||s)&&l.push(t[e.valueKey]),t.children&&r(t.children,a||s)})};const l=[];return r(m.value,!1),S(l)?void 0:l}else return o===""?void 0:o}function p(o){var r;const l=v(o);c("update:modelValue",l),c("change",l),e.prop&&!e.scope&&((r=f.value)==null||r.refresh({page:1,[e.prop]:l}))}return()=>{const o={width:h(e.width)},l=e.prop?"选择搜索":"请选择",r=n(u("el-tree-select"),{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,clearable:!0,filterable:!0,placeholder:l,data:m.value,checkStrictly:e.allLevelsId||e.checkStrictly,props:{label:e.labelKey,value:e.valueKey},style:o,onChange:p},null),d=n(u("el-select"),{modelValue:i.value,"onUpdate:modelValue":a=>i.value=a,clearable:!0,filterable:!0,placeholder:l,style:o,onChange:p},{default:()=>{var a;return[(a=m.value)==null?void 0:a.map(t=>g(t)?n(u("el-option"),{label:t,value:t},null):n(u("el-option"),{disabled:t.disabled,label:t[e.labelKey],value:t[e.valueKey]},null))]}});return e.tree?r:d}}});export{re as default};
