import{s as P,f as tt,a as et,c as nt}from"./@floating-ui.core-DTrSsA1T.js";import{o as z,p as x,q as b,s as L,t as w,r as k,u as C,v as R,w as D,x as U,y as A,z as W,A as S,B as H,C as T,m as I,D as ot,E as G,F as it,G as V,H as K}from"./@floating-ui.utils-Bh-IyuRp.js";function X(t){const e=w(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=R(t),c=s?t.offsetWidth:o,i=s?t.offsetHeight:n,r=D(o)!==c||D(n)!==i;return r&&(o=c,n=i),{width:o,height:n,$:r}}function $(t){return x(t)?t:t.contextElement}function F(t){const e=$(t);if(!R(e))return b(1);const o=e.getBoundingClientRect(),{width:n,height:s,$:c}=X(e);let i=(c?D(o.width):o.width)/n,r=(c?D(o.height):o.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!r||!Number.isFinite(r))&&(r=1),{x:i,y:r}}const st=b(0);function j(t){const e=L(t);return!U()||!e.visualViewport?st:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rt(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==L(t)?!1:e}function O(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const s=t.getBoundingClientRect(),c=$(t);let i=b(1);e&&(n?x(n)&&(i=F(n)):i=F(t));const r=rt(c,o,n)?j(c):b(0);let l=(s.left+r.x)/i.x,f=(s.top+r.y)/i.y,u=s.width/i.x,a=s.height/i.y;if(c){const y=L(c),g=n&&x(n)?L(n):n;let v=y,h=v.frameElement;for(;h&&n&&g!==v;){const p=F(h),d=h.getBoundingClientRect(),m=w(h),E=d.left+(h.clientLeft+parseFloat(m.paddingLeft))*p.x,B=d.top+(h.clientTop+parseFloat(m.paddingTop))*p.y;l*=p.x,f*=p.y,u*=p.x,a*=p.y,l+=E,f+=B,v=L(h),h=v.frameElement}}return k({width:u,height:a,x:l,y:f})}const ct=[":popover-open",":modal"];function J(t){return ct.some(e=>{try{return t.matches(e)}catch{return!1}})}function lt(t){let{elements:e,rect:o,offsetParent:n,strategy:s}=t;const c=s==="fixed",i=C(n),r=e?J(e.floating):!1;if(n===i||r&&c)return o;let l={scrollLeft:0,scrollTop:0},f=b(1);const u=b(0),a=R(n);if((a||!a&&!c)&&((W(n)!=="body"||S(i))&&(l=H(n)),R(n))){const y=O(n);f=F(n),u.x=y.x+n.clientLeft,u.y=y.y+n.clientTop}return{width:o.width*f.x,height:o.height*f.y,x:o.x*f.x-l.scrollLeft*f.x+u.x,y:o.y*f.y-l.scrollTop*f.y+u.y}}function ft(t){return Array.from(t.getClientRects())}function Q(t){return O(C(t)).left+H(t).scrollLeft}function ut(t){const e=C(t),o=H(t),n=t.ownerDocument.body,s=T(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),c=T(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let i=-o.scrollLeft+Q(t);const r=-o.scrollTop;return w(n).direction==="rtl"&&(i+=T(e.clientWidth,n.clientWidth)-s),{width:s,height:c,x:i,y:r}}function at(t,e){const o=L(t),n=C(t),s=o.visualViewport;let c=n.clientWidth,i=n.clientHeight,r=0,l=0;if(s){c=s.width,i=s.height;const f=U();(!f||f&&e==="fixed")&&(r=s.offsetLeft,l=s.offsetTop)}return{width:c,height:i,x:r,y:l}}function ht(t,e){const o=O(t,!0,e==="fixed"),n=o.top+t.clientTop,s=o.left+t.clientLeft,c=R(t)?F(t):b(1),i=t.clientWidth*c.x,r=t.clientHeight*c.y,l=s*c.x,f=n*c.y;return{width:i,height:r,x:l,y:f}}function _(t,e,o){let n;if(e==="viewport")n=at(t,o);else if(e==="document")n=ut(C(t));else if(x(e))n=ht(e,o);else{const s=j(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return k(n)}function Y(t,e){const o=V(t);return o===e||!x(o)||K(o)?!1:w(o).position==="fixed"||Y(o,e)}function dt(t,e){const o=e.get(t);if(o)return o;let n=z(t,[],!1).filter(r=>x(r)&&W(r)!=="body"),s=null;const c=w(t).position==="fixed";let i=c?V(t):t;for(;x(i)&&!K(i);){const r=w(i),l=G(i);!l&&r.position==="fixed"&&(s=null),(c?!l&&!s:!l&&r.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||S(i)&&!l&&Y(t,i))?n=n.filter(u=>u!==i):s=r,i=V(i)}return e.set(t,n),n}function gt(t){let{element:e,boundary:o,rootBoundary:n,strategy:s}=t;const i=[...o==="clippingAncestors"?dt(e,this._c):[].concat(o),n],r=i[0],l=i.reduce((f,u)=>{const a=_(e,u,s);return f.top=T(a.top,f.top),f.right=I(a.right,f.right),f.bottom=I(a.bottom,f.bottom),f.left=T(a.left,f.left),f},_(e,r,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pt(t){const{width:e,height:o}=X(t);return{width:e,height:o}}function mt(t,e,o){const n=R(e),s=C(e),c=o==="fixed",i=O(t,!0,c,e);let r={scrollLeft:0,scrollTop:0};const l=b(0);if(n||!n&&!c)if((W(e)!=="body"||S(s))&&(r=H(e)),n){const a=O(e,!0,c,e);l.x=a.x+e.clientLeft,l.y=a.y+e.clientTop}else s&&(l.x=Q(s));const f=i.left+r.scrollLeft-l.x,u=i.top+r.scrollTop-l.y;return{x:f,y:u,width:i.width,height:i.height}}function q(t,e){return!R(t)||w(t).position==="fixed"?null:e?e(t):t.offsetParent}function Z(t,e){const o=L(t);if(!R(t)||J(t))return o;let n=q(t,e);for(;n&&ot(n)&&w(n).position==="static";)n=q(n,e);return n&&(W(n)==="html"||W(n)==="body"&&w(n).position==="static"&&!G(n))?o:n||it(t)||o}const yt=async function(t){const e=this.getOffsetParent||Z,o=this.getDimensions;return{reference:mt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await o(t.floating)}}};function wt(t){return w(t).direction==="rtl"}const vt={convertOffsetParentRelativeRectToViewportRelativeRect:lt,getDocumentElement:C,getClippingRect:gt,getOffsetParent:Z,getElementRects:yt,getClientRects:ft,getDimensions:pt,getScale:F,isElement:x,isRTL:wt};function xt(t,e){let o=null,n;const s=C(t);function c(){var r;clearTimeout(n),(r=o)==null||r.disconnect(),o=null}function i(r,l){r===void 0&&(r=!1),l===void 0&&(l=1),c();const{left:f,top:u,width:a,height:y}=t.getBoundingClientRect();if(r||e(),!a||!y)return;const g=A(u),v=A(s.clientWidth-(f+a)),h=A(s.clientHeight-(u+y)),p=A(f),m={rootMargin:-g+"px "+-v+"px "+-h+"px "+-p+"px",threshold:T(0,I(1,l))||1};let E=!0;function B(M){const N=M[0].intersectionRatio;if(N!==l){if(!E)return i();N?i(!1,N):n=setTimeout(()=>{i(!1,1e-7)},100)}E=!1}try{o=new IntersectionObserver(B,{...m,root:s.ownerDocument})}catch{o=new IntersectionObserver(B,m)}o.observe(t)}return i(!0),c}function Ct(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:c=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:r=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,f=$(t),u=s||c?[...f?z(f):[],...z(e)]:[];u.forEach(d=>{s&&d.addEventListener("scroll",o,{passive:!0}),c&&d.addEventListener("resize",o)});const a=f&&r?xt(f,o):null;let y=-1,g=null;i&&(g=new ResizeObserver(d=>{let[m]=d;m&&m.target===f&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),o()}),f&&!l&&g.observe(f),g.observe(e));let v,h=l?O(t):null;l&&p();function p(){const d=O(t);h&&(d.x!==h.x||d.y!==h.y||d.width!==h.width||d.height!==h.height)&&o(),h=d,v=requestAnimationFrame(p)}return o(),()=>{var d;u.forEach(m=>{s&&m.removeEventListener("scroll",o),c&&m.removeEventListener("resize",o)}),a==null||a(),(d=g)==null||d.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Et=P,Lt=tt,Ot=et,Tt=(t,e,o)=>{const n=new Map,s={platform:vt,...o},c={...s.platform,_c:n};return nt(t,e,{...s,platform:c})};export{Ot as a,Ct as b,Tt as c,Lt as f,Et as s};
