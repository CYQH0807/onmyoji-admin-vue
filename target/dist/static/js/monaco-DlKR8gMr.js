import{p as D}from"./index-BzwtatPw.js";import{u as E}from"./index-OBXFyj3D.js";import{W as N,a as B,b as V,c as O,d as L,e as x,l as i,R as M}from"./monaco-editor-CuOEaJz6.js";import{Q as T,x as j,N as b,P as g,L as h}from"./prettier-LOB_Y3FM.js";import{z,o as R}from"./lodash-es-I-EvhVFk.js";import{d as v,q as y,e as F,f as P,o as q,c as J,n as H}from"./@vue.runtime-core-B2X3lOUZ.js";import{r as I,u as S}from"./@vue.reactivity-V6IlnEmz.js";import{o as Q,p as G}from"./@vue.shared-D-bMerGS.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vue.runtime-dom-DkKQpP1Z.js";import"./element-plus-DaJS5H-O.js";import"./@element-plus.icons-vue-BCFYf-67.js";import"./@popperjs.core-D9SI2xQl.js";import"./@ctrl.tinycolor-r5W6hzzQ.js";import"./dayjs-DOBku9Nj.js";import"./chardet-C_72lc3Z.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui.dom-B8Qxuwjg.js";import"./@floating-ui.core-DTrSsA1T.js";import"./@floating-ui.utils-Bh-IyuRp.js";import"./@vueuse.core-Bp0bPelK.js";import"./@vueuse.shared-CZpoHp70.js";import"./store-BGvsPsWR.js";import"./mitt-C1z4c41a.js";import"./axios-CvWkLj0m.js";import"./nprogress-B7fG2QpQ.js";import"./pinia-ByvooDwk.js";import"./vue-demi-Dq6ymT-8.js";import"./vue-echarts-BbwyaQnR.js";import"./resize-detector-CZu9PX2v.js";import"./echarts-Bv2MlBtc.js";import"./tslib-BDyQ-Jie.js";import"./zrender-BSc91FC-.js";import"./vue-router-4IlAtr41.js";import"./mockjs-Bfc9hT_P.js";import"./vue-xN6KRtQP.js";self.MonacoEnvironment={getWorker(a,t){return t==="json"?new N:t==="css"||t==="scss"||t==="less"?new B:t==="html"||t==="handlebars"||t==="razor"?new V:t==="typescript"||t==="javascript"?new O:new L}};x.defineTheme("default",{base:"vs",inherit:!0,rules:[{background:"ffffff",token:""},{foreground:"6a737d",token:"comment"},{foreground:"6a737d",token:"punctuation.definition.comment"},{foreground:"6a737d",token:"string.comment"},{foreground:"005cc5",token:"constant"},{foreground:"005cc5",token:"entity.name.constant"},{foreground:"005cc5",token:"variable.other.constant"},{foreground:"005cc5",token:"variable.language"},{foreground:"6f42c1",token:"entity"},{foreground:"6f42c1",token:"entity.name"},{foreground:"24292e",token:"variable.parameter.function"},{foreground:"22863a",token:"entity.name.tag"},{foreground:"d73a49",token:"keyword"},{foreground:"d73a49",token:"storage"},{foreground:"d73a49",token:"storage.type"},{foreground:"24292e",token:"storage.modifier.package"},{foreground:"24292e",token:"storage.modifier.import"},{foreground:"24292e",token:"storage.type.java"},{foreground:"032f62",token:"string"},{foreground:"032f62",token:"punctuation.definition.string"},{foreground:"032f62",token:"string punctuation.section.embedded source"},{foreground:"005cc5",token:"support"},{foreground:"005cc5",token:"meta.property-name"},{foreground:"e36209",token:"variable"},{foreground:"24292e",token:"variable.other"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.broken"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.deprecated"},{foreground:"fafbfc",background:"b31d28",fontStyle:"italic underline",token:"invalid.illegal"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"carriage-return"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.unimplemented"},{foreground:"b31d28",token:"message.error"},{foreground:"24292e",token:"string source"},{foreground:"005cc5",token:"string variable"},{foreground:"032f62",token:"source.regexp"},{foreground:"032f62",token:"string.regexp"},{foreground:"032f62",token:"string.regexp.character-class"},{foreground:"032f62",token:"string.regexp constant.character.escape"},{foreground:"032f62",token:"string.regexp source.ruby.embedded"},{foreground:"032f62",token:"string.regexp string.regexp.arbitrary-repitition"},{foreground:"22863a",fontStyle:"bold",token:"string.regexp constant.character.escape"},{foreground:"005cc5",token:"support.constant"},{foreground:"005cc5",token:"support.variable"},{foreground:"005cc5",token:"meta.module-reference"},{foreground:"735c0f",token:"markup.list"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading entity.name"},{foreground:"22863a",token:"markup.quote"},{foreground:"24292e",fontStyle:"italic",token:"markup.italic"},{foreground:"24292e",fontStyle:"bold",token:"markup.bold"},{foreground:"005cc5",token:"markup.raw"},{foreground:"b31d28",background:"ffeef0",token:"markup.deleted"},{foreground:"b31d28",background:"ffeef0",token:"meta.diff.header.from-file"},{foreground:"b31d28",background:"ffeef0",token:"punctuation.definition.deleted"},{foreground:"22863a",background:"f0fff4",token:"markup.inserted"},{foreground:"22863a",background:"f0fff4",token:"meta.diff.header.to-file"},{foreground:"22863a",background:"f0fff4",token:"punctuation.definition.inserted"},{foreground:"e36209",background:"ffebda",token:"markup.changed"},{foreground:"e36209",background:"ffebda",token:"punctuation.definition.changed"},{foreground:"f6f8fa",background:"005cc5",token:"markup.ignored"},{foreground:"f6f8fa",background:"005cc5",token:"markup.untracked"},{foreground:"6f42c1",fontStyle:"bold",token:"meta.diff.range"},{foreground:"005cc5",token:"meta.diff.header"},{foreground:"005cc5",fontStyle:"bold",token:"meta.separator"},{foreground:"005cc5",token:"meta.output"},{foreground:"586069",token:"brackethighlighter.tag"},{foreground:"586069",token:"brackethighlighter.curly"},{foreground:"586069",token:"brackethighlighter.round"},{foreground:"586069",token:"brackethighlighter.square"},{foreground:"586069",token:"brackethighlighter.angle"},{foreground:"586069",token:"brackethighlighter.quote"},{foreground:"b31d28",token:"brackethighlighter.unmatched"},{foreground:"b31d28",token:"sublimelinter.mark.error"},{foreground:"e36209",token:"sublimelinter.mark.warning"},{foreground:"959da5",token:"sublimelinter.gutter-mark"},{foreground:"032f62",fontStyle:"underline",token:"constant.other.reference.link"},{foreground:"032f62",fontStyle:"underline",token:"string.other.link"}],colors:{"editor.foreground":"#24292e","editor.background":"#ffffff","editor.selectionBackground":"#c8c8fa","editor.inactiveSelectionBackground":"#fafbfc","editor.lineHighlightBackground":"#fafbfc","editorCursor.foreground":"#24292e","editorWhitespace.foreground":"#959da5","editorIndentGuide.background":"#959da5","editorIndentGuide.activeBackground":"#24292e","editor.selectionHighlightBorder":"#fafbfc"}});i.typescript.typescriptDefaults.setEagerModelSync(!0);i.typescript.typescriptDefaults.setCompilerOptions({target:i.typescript.ScriptTarget.ES2016,allowNonTsExtensions:!0,moduleResolution:i.typescript.ModuleResolutionKind.NodeJs,module:i.typescript.ModuleKind.CommonJS,experimentalDecorators:!0,noEmit:!0,allowJs:!1,typeRoots:["node_modules/@types"]});i.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0});const l={html:{parser:"html",plugins:[j,b,g,h]},typescript:{parser:"typescript",plugins:[b,h]},css:{parser:"css",plugins:[g]},scss:{parser:"scss",plugins:[g]}};function A(){function a(){for(const t in l)i.registerDocumentFormattingEditProvider(t,{async provideDocumentFormattingEdits(u){let r=u.getValue();try{r=await T.format(r,{parser:l[t].parser,plugins:l[t].plugins,semi:!0,printWidth:100,tabWidth:4,useTabs:!0,singleQuote:!0,trailingComma:"none"})}catch{}return[{range:u.getFullModelRange(),text:r}]}})}return{register:a}}let U="";function X({path:a,content:t}){const u=`file:///node_modules/${a}`,r=i.typescript.typescriptDefaults,d=r.getExtraLibs();if(!Object.keys(d).includes(u))try{r.addExtraLib(t,u)}catch(f){throw f}}function Y(){function a(){X({path:"globals.d.ts",content:U})}return{loadDeclares:a}}const Z=v({name:"cl-editor-monaco"}),$=v({...Z,props:{modelValue:null,options:Object,height:{type:[String,Number],default:500},autofocus:{type:Boolean,default:!1},autoFormatCode:{type:Boolean,default:!0},language:{type:String,default:"json"},disabled:Boolean},emits:["update:modelValue","change"],setup(a,{expose:t,emit:u}){const r=a,d=u,{refs:p,setRefs:f}=E(),C=A(),w=Y(),m=I(r.height);let e=null;function s(){return e==null?void 0:e.getValue()}function c(o=""){z(o)?o=JSON.stringify(o):o=(o||"").toString(),o!=s()&&(e==null||e.setValue(o))}function W(o=""){const n=e==null?void 0:e.getPosition();n&&(e==null||e.executeEdits("",[{range:new M(n.lineNumber,n.column,n.lineNumber,n.column),text:o}]),e==null||e.setPosition({lineNumber:n.lineNumber,column:n.column+o.length}),e==null||e.focus())}async function k(){var o;return await((o=e==null?void 0:e.getAction("editor.action.formatDocument"))==null?void 0:o.run()),s()}function _(){const o=R({theme:"default",language:r.language,minimap:{enabled:!1},automaticLayout:!0,scrollbar:{verticalScrollbarSize:6},lineNumbersMinChars:4,scrollBeyondLastLine:!1,readOnly:r.disabled,fontSize:14,tabSize:4},r.options);e=x.create(p.editor,o),e.onDidChangeModelContent(()=>{r.height=="auto"&&(m.value=Number(e==null?void 0:e.getContentHeight())+2);const n=s();d("update:modelValue",n),d("change",n)}),H(()=>{c(r.modelValue),r.autofocus&&(e==null||e.focus()),setTimeout(()=>{C.register(),r.autoFormatCode&&k()},300),w.loadDeclares()})}return y(()=>r.modelValue,c),y(()=>r.disabled,o=>{e==null||e.updateOptions({readOnly:o})}),F(()=>{_()}),P(()=>{e==null||e.dispose()}),t({editor:e,setContent:c,appendContent:W,formatCode:k}),(o,n)=>(q(),J("div",{class:Q(["cl-editor-monaco",{disabled:a.disabled}]),ref:S(f)("editor"),style:G({height:S(D)(m.value)})},null,6))}}),Re=K($,[["__scopeId","data-v-e45a5b22"]]);export{Re as default};
