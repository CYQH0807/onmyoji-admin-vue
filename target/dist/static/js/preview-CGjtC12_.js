import{a as K}from"./@vueuse.core-Bp0bPelK.js";import"./index-BzwtatPw.js";import"./store-BGvsPsWR.js";import{u as L}from"./index-OBXFyj3D.js";import{v as M,z as P}from"./lodash-es-I-EvhVFk.js";import{a as R}from"./element-plus-DaJS5H-O.js";import{d as z,t as u,Y as m,o as l,c as N,G as _,i as O,K as i,O as C,J as p,N as V,a as $,F as x,V as Y,H as Q,n as W}from"./@vue.runtime-core-B2X3lOUZ.js";import{r as c,u as X}from"./@vue.reactivity-V6IlnEmz.js";import{O as Z}from"./@vue.shared-D-bMerGS.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@vueuse.shared-CZpoHp70.js";import"./@vue.runtime-dom-DkKQpP1Z.js";import"./mitt-C1z4c41a.js";import"./axios-CvWkLj0m.js";import"./nprogress-B7fG2QpQ.js";import"./chardet-C_72lc3Z.js";import"./pinia-ByvooDwk.js";import"./vue-demi-Dq6ymT-8.js";import"./monaco-editor-CuOEaJz6.js";import"./vue-echarts-BbwyaQnR.js";import"./resize-detector-CZu9PX2v.js";import"./echarts-Bv2MlBtc.js";import"./tslib-BDyQ-Jie.js";import"./zrender-BSc91FC-.js";import"./vue-router-4IlAtr41.js";import"./mockjs-Bfc9hT_P.js";import"./dayjs-DOBku9Nj.js";import"./vue-xN6KRtQP.js";import"./@element-plus.icons-vue-BCFYf-67.js";import"./@popperjs.core-D9SI2xQl.js";import"./@ctrl.tinycolor-r5W6hzzQ.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui.dom-B8Qxuwjg.js";import"./@floating-ui.core-DTrSsA1T.js";import"./@floating-ui.utils-Bh-IyuRp.js";const te={class:"cl-editor-preview"},oe={class:"cl-editor-preview__container"},ae=z({name:"cl-editor-preview"}),le=z({...ae,props:{modelValue:String,title:String,name:{type:String,required:!0},text:{type:String,default:"点击查看"},showBtn:{type:Boolean,default:!0},height:{type:String,default:"60vh"},width:{type:String,default:"60%"},tabs:Array,props:Object},setup(r,{expose:T}){const n=r,{refs:U,setRefs:j}=L(),{copy:E}=K(),d=c(!1),s=c(""),h=c(),y=c(0),f=c([]),v=u(()=>n.name=="monaco"),F=u(()=>!v.value),J=u(()=>v),q=u(()=>({language:h.value,...n.props})),A=u(()=>n.title||(v.value?"代码预览":"文本预览"));async function w(e){e||(e=n.modelValue),n.tabs?(f.value=n.tabs,S(0)):k(e),d.value=!0}function k(e){M(e)?s.value=e:P(e)&&(s.value=JSON.stringify(e,null,4))}async function S(e){var o,g;const t=f.value[e];h.value=t.language,k(t.data),await W(),v.value&&((g=(o=U.editor)==null?void 0:o.formatCode)==null||g.call(o))}function B(){d.value=!1}function D(){E(s.value),R.success("复制成功")}return T({open:w,close:B}),(e,t)=>{const o=m("el-button"),g=m("el-tab-pane"),G=m("el-tabs"),H=m("cl-editor"),I=m("cl-dialog");return l(),N(x,null,[_(e.$slots,"default",{},()=>[r.showBtn?(l(),p(o,{key:0,onClick:t[0]||(t[0]=a=>w())},{default:i(()=>[C(Z(r.text),1)]),_:1})):V("",!0)],!0),O(I,{height:r.height,width:r.width,title:A.value,scrollbar:F.value,"append-to-body":"",modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=a=>d.value=a)},{footer:i(()=>[O(o,{onClick:B},{default:i(()=>[C("关闭")]),_:1}),J.value?(l(),p(o,{key:0,type:"success",onClick:D},{default:i(()=>[C("复制")]),_:1})):V("",!0)]),default:i(()=>[$("div",te,[f.value.length>1?(l(),p(G,{key:0,modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=a=>y.value=a),type:"card",onTabChange:S},{default:i(()=>[(l(!0),N(x,null,Y(f.value,(a,b)=>(l(),p(g,{key:b,label:a.name,name:b,lazy:b!=0},null,8,["label","name","lazy"]))),128))]),_:1},8,["modelValue"])):V("",!0),$("div",oe,[_(e.$slots,"prepend",{},void 0,!0),(l(),p(H,Q({name:`cl-editor-${r.name}`,ref:X(j)("editor"),key:y.value,height:"100%",preview:""},q.value,{modelValue:s.value,"onUpdate:modelValue":t[2]||(t[2]=a=>s.value=a)}),null,16,["name","modelValue"])),_(e.$slots,"append",{},void 0,!0)])])]),_:3},8,["height","width","title","scrollbar","modelValue"])],64)}}}),He=ee(le,[["__scopeId","data-v-46e633fb"]]);export{He as default};
