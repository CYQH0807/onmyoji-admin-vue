import{a as f}from"./@vueuse.core-Bp0bPelK.js";import{v as _,z as h}from"./lodash-es-I-EvhVFk.js";import{a as g}from"./element-plus-DaJS5H-O.js";import{d as c,t as v,Y as p,o as m,c as y,i as e,K as l,a as b,J as x,G as S,O as j}from"./@vue.runtime-core-B2X3lOUZ.js";import{O as k}from"./@vue.shared-D-bMerGS.js";import{u}from"./@vue.reactivity-V6IlnEmz.js";import"./@vueuse.shared-CZpoHp70.js";import"./@vue.runtime-dom-DkKQpP1Z.js";import"./@element-plus.icons-vue-BCFYf-67.js";import"./@popperjs.core-D9SI2xQl.js";import"./@ctrl.tinycolor-r5W6hzzQ.js";import"./dayjs-DOBku9Nj.js";import"./chardet-C_72lc3Z.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui.dom-B8Qxuwjg.js";import"./@floating-ui.core-DTrSsA1T.js";import"./@floating-ui.utils-Bh-IyuRp.js";const C={key:0,class:"cl-code-json__wrap"},N={class:"text"},B=c({name:"cl-code-json"}),P=c({...B,props:{modelValue:[String,Object],popover:Boolean,height:{type:[Number,String],default:"100%"},maxHeight:{type:[Number,String],default:300}},setup(i){const t=i,{copy:d}=f(),r=v(()=>{const o=t.modelValue;return _(o)?o:h(o)?JSON.stringify(o,null,4):""}),n=c({setup(o,{slots:s}){function a(){d(r.value),g.success("复制成功")}return()=>e("div",{class:"cl-code-json"},[e("div",{class:"op"},[e(p("el-button"),{type:"success",size:"small",onClick:a},{default:()=>[j("copy")]}),s.op&&s.op()]),e(p("el-scrollbar"),{class:"scrollbar","max-height":t.maxHeight,height:t.height},{default:()=>[e("pre",null,[e("code",null,[r.value])])]})])}});return(o,s)=>{const a=p("el-popover");return i.popover?(m(),y("div",C,[e(a,{width:"auto",placement:"right","popper-class":"cl-code-json__popper"},{reference:l(()=>[b("span",N,k(r.value),1)]),default:l(()=>[e(u(n))]),_:1})])):(m(),x(u(n),{key:1},{op:l(()=>[S(o.$slots,"op")]),_:3}))}}});export{P as default};
